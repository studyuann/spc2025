<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì´ì§„ íƒìƒ‰ ìˆ«ì ë§ì¶”ê¸°</title>
  <style>
    #progressContainer {
      width: 100%;
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
  
    .progressRow {
      width: 100%;
      height: 20px;
      background-color: #ddd;
      position: relative; /* âœ… ê¸°ì¤€ ìš”ì†Œë¡œ ì§€ì • */
      border-radius: 4px;
      overflow: hidden;
    }
  
    .progressRange {
      height: 100%;
      position: absolute;
      border-radius: 4px;
      opacity: 0.7;
      z-index: 1; /* âœ… ë°”ëŠ” ì•„ë˜ */
    }
  
    .midLine {
      position: absolute;
      left: 50%;
      top: 0;
      bottom: 0;
      width: 2px;
      background-image: linear-gradient(to bottom, black 50%, transparent 50%);
      background-size: 2px 6px;
      background-repeat: repeat-y;
      opacity: 0.5;
      z-index: 2; /* âœ… ì ì„ ì´ ìœ„ë¡œ ì˜¤ë„ë¡ */
      pointer-events: none; /* âœ… ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ë¬´ì‹œ */
    }
  </style>
</head>
<body>
  <h1>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h1>
  <h2>1~100 ì‚¬ì´ ìˆ«ìë¥¼ ë§ì¶°ë³´ì„¸ìš”!</h2>

  <input type="number" id="guessNumber" placeholder="ìˆ«ì ì…ë ¥" min="1" max="100">
  <button id="guessButton">Guess</button>
  <p id="result">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>

  <div id="progressContainer"></div>

  <script>
    const randomNumber = Math.floor(Math.random() * 100) + 1;
    console.log("ì •ë‹µ (ë””ë²„ê¹…ìš©):", randomNumber);

    const guessInput = document.getElementById("guessNumber");
    const result = document.getElementById("result");
    const guessButton = document.getElementById("guessButton");
    const progressContainer = document.getElementById("progressContainer");

    let min = 1;
    let max = 100;

    function updateProgressBar(minVal, maxVal) {
      // ìƒˆ í–‰(row)ì„ ë§Œë“¤ê³ , ê·¸ ì•ˆì— ë°”ë¥¼ ë„£ëŠ”ë‹¤
      const row = document.createElement("div");
      row.className = "progressRow";

      const bar = document.createElement("div");
      bar.className = "progressRange";

      const left = ((minVal - 1) / 100) * 100;
      const width = ((maxVal - minVal + 1) / 100) * 100;
      const step = progressContainer.children.length;

      const hue = 120 - step * 15;
      bar.style.backgroundColor = `hsl(${hue}, 70%, 60%)`;
      bar.style.left = `${left}%`;
      bar.style.width = `${width}%`;

      row.appendChild(bar);
      progressContainer.appendChild(row);
    }

    // ì´ˆê¸° ë°” ìƒì„±
    updateProgressBar(min, max);

    guessButton.addEventListener("click", () => {
    const userGuess = Number(guessInput.value);

    if (!userGuess || userGuess < min || userGuess > max) {
      result.textContent = `âš ï¸ ${min} ~ ${max} ì‚¬ì´ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.`;
      return;
    }

    if (userGuess < randomNumber) {
      result.textContent = "ğŸ”¼ ë„ˆë¬´ ì‘ì•„ìš”!";
      min = userGuess + 1;
    } else if (userGuess > randomNumber) {
      result.textContent = "ğŸ”½ ë„ˆë¬´ ì»¤ìš”!";
      max = userGuess - 1;
    } else {
      result.textContent = "ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!";
      guessInput.disabled = true;
      guessButton.disabled = true;
    }

  updateProgressBar(min, max);

  // ğŸ‘‰ ì…ë ¥ê°’ ì´ˆê¸°í™”
  guessInput.value = "";
});

    guessInput.addEventListener("keyup", function(e) {
      if (e.key === 'Enter') guessButton.click();
    });
  </script>
</body>
</html>
